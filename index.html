<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="AWS Serverless Web App tutorial">
    <meta name="keywords" content="HTML,CSS,XML,JavaScript">
    <meta name="author" content="Mr. Coxall">
    <meta name="date" content="Jan 2020">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--Google's MDL-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.brown-indigo.min.css" /> 
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    
    <title>CLAMMS</title>
  </head>
  
  <body>
    <div id="user_info">
      <p>Please wait ...</p>
    </div>
    <div>
      <button onclick="getUser()">Get User Info</button>
    </div>
    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">CLAMMS</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation. We hide it in small screens. -->
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <!-- <a class="mdl-navigation__link" href="./index.html">Home</a>
            <a class="mdl-navigation__link" href="./records.html">Records</a> -->
            <a class="mdl-navigation__link" href="https://clamms-auth.auth.us-east-1.amazoncognito.com/login?client_id=42acchubd2mvigdkcm86ssi1mb&response_type=code&scope=email+openid&redirect_uri=https://main.d3tp27ml1yqp5t.amplifyapp.com/records">Sign In</a>
            <a class="mdl-navigation__link" href="https://clamms-auth.auth.us-east-1.amazoncognito.com/login?client_id=42acchubd2mvigdkcm86ssi1mb&response_type=code&scope=email+openid&redirect_uri=https://main.d3tp27ml1yqp5t.amplifyapp.com/sign-out">Sign Out</a>
            
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">CLAMMS</span>
        <nav class="mdl-navigation">
          <!-- <a class="mdl-navigation__link" href="./index.html">Home</a>
          <a class="mdl-navigation__link" href="./records.html">Records</a> -->
          <a class="mdl-navigation__link" href="./sign-in.html">Sign In</a>
          <a class="mdl-navigation__link" href="./sign-out.html">Sign Out</a>
         
        </nav>
      </div>
      <main class="mdl-layout__content">
        <div class="page-content"><!-- Your content goes here -->
          <script type="text/javascript">

            async function getUser() {
              // get the user info from API
        
              const api_url = 'https://2j9qacl6k6.execute-api.us-east-1.amazonaws.com/prod/user_profile?user_email=skayal@gmail.com'
              const api_response = await fetch(api_url);
              const api_data = await(api_response).json();
        
              const div_user_info = document.getElementById('user_info');
              div_user_info.innerHTML = api_data['body'];
            }
          </script></div>
      </main>
    </div>
    
    <!--Get below the nav menu at the top-->
    <br><br><br>
    
		<div class="container">
      <div>
        <h2>Welcome</h2>
        <div id='home'>
          <p>Welcome to the CLAMMS website.</p>
          
        </div>
      </div>
		</div>
    
  </body>
  
</html>
